!function(t){var e={};function i(a){if(e[a])return e[a].exports;var o=e[a]={i:a,l:!1,exports:{}};return t[a].call(o.exports,o,o.exports,i),o.l=!0,o.exports}i.m=t,i.c=e,i.d=function(t,e,a){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)i.d(a,o,function(e){return t[e]}.bind(null,o));return a},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=336)}({336:function(t,e,i){t.exports=i(337)},337:function(t,e){var i;(i=jQuery)(document).ready((function(){var t=document.getElementById("post_ID"),e=null!==t?t.value:void 0;void 0!==wp.media&&(wp.media.view.settings.post.id=void 0!==e?e:null);var a,o,n,r,s=i(document);i(".save-option-ajax").on("click",(function(t){t.preventDefault();var e=i(this);e.attr("disabled","disabled");var a=e.parents(".wpui-tabs-container").find("*").serializeArray();e.parents(".wpui-tabs-container").find('input[type="checkbox"]:not(:checked)').map((function(){-1===i.inArray(this.name,a)&&""!==this.name&&a.push({name:this.name,value:this.checked?this.value:""})})),i.post(ajaxurl,{action:"aios_save_options",data:a}).done((function(t){swal({type:"success",title:"Updated",showConfirmButton:!1,timer:1500}),setTimeout((function(){e.removeAttr("disabled")}),1500)})).fail((function(t,i,a){swal({type:"error",title:"Error",showConfirmButton:!1,timer:1500}),setTimeout((function(){e.removeAttr("disabled")}),1500)}))})),i(".setting-button").on("click","input[type=button]",(function(){var t=i(this).parents(".setting-container-parent"),e=t.find(".setting-image-input"),a=t.find(".setting-image-preview");if(t.parents("ul.cd-tabs-content").css({height:"auto"}),i(this).hasClass("setting-upload"))var o=wp.media({title:"Upload Image",multiple:!1}).open().on("select",(function(t){var i=o.state().get("selection").first().toJSON().url;e.val(i),a.empty(""),a.append('<img src="'+i+'">')}));else i(this).hasClass("setting-remove")&&(e.val(""),a.empty(""),a.append("<p>No image uploaded</p>"))})),i(".wpui-uploader-button").on("click","input[type=button]",(function(){var t=i(this),e=t.parents(".wpui-uploader-container-parent"),a=e.find(".wpui-uploader-image-input"),o=e.find(".wpui-uploader-image-preview"),n=""!==e.data("title")?e.data("title"):"Media Gallery",r=""!==e.data("type")?e.data("type"):"image",s=""!==e.data("button-text")?e.data("button-text"):"Select",l=""!==e.data("filter-page-text")?e.data("filter-page-text"):"Uploaded to this "+(void 0!==typenow||""!==typenow?typenow:"page"),p=""!==e.data("no-image")?e.data("no-image"):"No image uploaded",u=e.parents("ul.cd-tabs-content");if("wpui-uploader-_thumbnail_id"===t.parent().attr("id"))t.hasClass("wpui-uploader-upload")?(wp.media.view.settings.post.featuredImageId=jQuery("#_thumbnail_id").val(),wp.media.view.settings.post.nonce=jQuery("#_wpnonce").val(),wp.media.featuredImage.frame().open().on("select",(function(t){var e=wp.media.frame.state().get("selection").first().toJSON();a.val(e.id),o.empty(""),o.append('<img src="'+e.url+'" style="max-width: 100%; margin-bottom: 10px;">')}))):t.hasClass("wpui-uploader-remove")&&(wp.media.featuredImage.remove(),a.val(""),o.empty(""),o.append("<p>"+p+"</p>"));else if(u.css({height:"auto"}),t.hasClass("wpui-uploader-upload")){wp.media.view.AttachmentFilters.Uploaded=wp.media.view.AttachmentFilters.Uploaded.extend({createFilters:function(){var t={all:{text:"All Images",props:{status:null,type:"image",uploadedTo:null,orderby:"date",order:"DESC"},priority:10}};t.uploaded={text:l,props:{status:null,type:"image",uploadedTo:wp.media.view.settings.post.id,orderby:"menuOrder",order:"ASC"},priority:20},this.filters=t},change:function(t){var e=this.filters[this.el.value];e&&("all"===this.el.value?this.filters[this.el.value].props.post_parent="":this.filters[this.el.value].props.post_parent=wp.media.view.settings.post.id,this.model.set(e.props))},select:function(){var t=this.model,e="uploaded",i=t.toJSON();_.find(this.filters,(function(t,a){if(_.all(t.props,(function(t,e){return t===(_.isUndefined(i[e])?null:i[e])})))return e=a})),this.$el.val(e)}});var d=[new wp.media.controller.Library({title:n,filterable:"uploaded",library:wp.media.query({type:r,uploadedTo:wp.media.view.settings.post.id}),multiple:!0,contentUserSetting:!0})],c=wp.media({button:{text:s},state:"library",states:d,multiple:!0}).open().on("select",(function(t){var e=c.state().get("selection").first().toJSON();a.val(e.id),o.empty(""),o.append('<img src="'+e.url+'" style="max-width: 100%; margin-bottom: 10px;">')}))}else t.hasClass("wpui-uploader-remove")&&(a.val(""),o.empty(""),o.append("<p>"+p+"</p>"))})),function(){i(".wpui-template");var t=i(".wpui-template-activator:not(.wpui-template-disabled)"),e=i(".wpui-template-disabled"),a=i(".popup-close");e.on("click",(function(t){t.preventDefault(),jQuery("#wpui-container-minimalist .popup-message-wrapper").fadeIn()})),a.on("click",(function(t){jQuery("#wpui-container-minimalist .popup-message-wrapper").fadeOut()})),t.on("click",(function(t){t.preventDefault();var e=i(this),a=e.attr("data-theme-name"),o=e.attr("data-theme-value");!1===e.hasClass("wpui-template-activated")?i.post(ajaxurl,{action:"aios_save_options",option_name:a,option_value:o},(function(t){JSON.parse(t),swal({type:"success",title:"Updated",text:"Theme will be activate after this page reload.",showConfirmButton:!1,timer:1500}),setTimeout((function(){location.reload()}),1500)})):swal({type:"error",title:"Theme is currently active",showConfirmButton:!1,timer:1500})}))}(),a=i("#info-custom-fields"),o=i(".aios-siteinfo-custom-fields"),i(".info-custom-fields-form-notifications"),n=/[ !@#$%^&*()+\-=\[\]{};':"\\|,.<>\/?1234567890]/,r=/[ !@#$%^&*()+\=\[\]{};':"\\|,.<>\/?1234567890]/,a.on("click",(function(t){t.preventDefault();var e=i(this).parents(".info-custom-fields-form"),a=e.find("#info-custom-field-label"),s=a.val(),l=e.find("#info-custom-field-name"),p=l.val(),u=e.find("#info-custom-field-shortcode"),d=u.val(),c="";return r.test(p)||""==p||n.test(d)||""==d?((r.test(p)||""==p)&&(c+="Field Name does not empty or contains special characters except hyphen and underscore."),(n.test(d)||""==d)&&(c+="Field Shortcode does not empty or contains special characters."),swal({type:"error",title:"",text:c,showConfirmButton:!0})):i.post(ajaxurl,{action:"client_info_custom_fields",field_action:"add",label_value:s,name_value:p,shortcode_value:d},(function(t){var e=JSON.parse(t);if("success"===e[0]){var i='<div class="wpui-row wpui-row-box">\t\t\t\t\t\t\t\t<div class="wpui-col-md-3">\t\t\t\t\t\t\t\t\t<p><span class="wpui-settings-title">'+s.replace(/^\w/,(function(t){return t.toUpperCase()}))+'</span><span id="deleteClientInfoFields" style="color: #f00; cursor: pointer;"  data-name="'+p+'">Delete</span></p>\t\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t\t<div class="wpui-col-md-9">\t\t\t\t\t\t\t\t\t<div class="form-group">\t\t\t\t\t\t\t\t\t\t<input type="text" name="aios_cicf['+p+']" id="aios_cicf['+p+']" \t\t\t\t\t\t\t\t\t\tvalue="">\t\t\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t\t\t<p class="float-left w-100 mt-2">Shortcode: <strong>[aios_cicf_'+d+"]</strong></p>\t\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t</div>";a.val(""),l.val(""),u.val(""),o.append(i),swal({type:"success",title:"Added",showConfirmButton:!1,timer:1500})}else"duplicate"===e[0]?swal({type:"error",title:"Duplicate",text:"field name or shortcodes",showConfirmButton:!0}):swal({type:"error",title:"No Action Taken",showConfirmButton:!1,timer:1500})})),!1})),s.on("click",".deleteClientInfoFields",(function(){var t=i(this),e=t.attr("data-name");Swal({title:"Are you sure?",text:"You won't be able to revert this!",type:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then((function(a){a.value&&i.post(ajaxurl,{action:"client_info_custom_fields",field_action:"remove",name_value:e},(function(e){"success"===JSON.parse(e)[0]?(t.parents(".wpui-row-box").remove(),swal({type:"success",title:"Removed",showConfirmButton:!1,timer:1500})):swal({type:"error",title:"No Action Taken",showConfirmButton:!1,timer:1500})}))}))})),i(".aios-cf-leads-delete").on("click",(function(t){var e=i(this),a=e.parents(".wpui-tabs-content").find(".wpui-tabs-container").find("input.leads:checkbox:checked").map((function(){return i(this).val()})).get();if(0===a.length)return swal({type:"error",title:"No lead selected",showConfirmButton:!1,timer:1500}),!1;i.post(ajaxurl,{action:"delete_leads",data:a}).done((function(t){swal({type:"success",title:"Deleted",showConfirmButton:!1,timer:1500}),setTimeout((function(){window.location.reload()}),1500)})).fail((function(t,i,a){swal({type:"error",title:"Error",showConfirmButton:!1,timer:1500}),setTimeout((function(){e.removeAttr("disabled")}),1500)}))})),i("#dismiss-notif-from-is").on("click",(function(t){t.preventDefault();var e=i(this);i.post(ajaxurl,{action:"dismiss_notification_from_ais"}).done((function(t){e.parent().hide()})).fail((function(t,e,i){swal({type:"error",title:"Error",showConfirmButton:!1,timer:1500})}))}))}))}});